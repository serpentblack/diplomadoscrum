name: Demo CI/CD Visual

on:
  workflow_dispatch:      # <- botÃ³n "Run workflow"
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v3

      - name: ğŸ”§ InstalaciÃ³n de dependencias
        run: |
          echo "Simulando instalaciÃ³n de dependencias..."
          sleep 2

      - name: ğŸ— Proceso de construcciÃ³n (build)
        run: |
          mkdir dist
          echo "<html><body><h1>Build generado por el pipeline</h1></body></html>" > dist/index.html
          echo "âœ… Build generado en carpeta /dist"

      - name: ğŸ§ª EjecuciÃ³n de pruebas automÃ¡ticas
        run: |
          echo "Iniciando pruebas..."
          echo "âœ”ï¸ Prueba 1: PASÃ“"
          echo "âœ”ï¸ Prueba 2: PASÃ“"
          echo "âœ”ï¸ Prueba 3: PASÃ“"

      - name: ğŸš€ Despliegue simulado
        run: |
          echo "Copiando archivos de /dist al servidor ficticio..."
          sleep 1
          echo "ğŸ‰ Despliegue exitoso"

      - name: Publicar artefacto
        uses: actions/upload-artifact@v4
        with:
          name: build-demo
          path: dist/index.html
